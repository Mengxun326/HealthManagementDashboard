# åç«¯é…ç½®å’Œå¯åŠ¨æŒ‡å—

## ğŸ“‹ å‰ç½®å‡†å¤‡

### 1. æ£€æŸ¥ç¯å¢ƒ

æ‰“å¼€å‘½ä»¤è¡Œï¼ˆCMDæˆ–PowerShellï¼‰ï¼Œæ£€æŸ¥ä»¥ä¸‹ç¯å¢ƒæ˜¯å¦å·²å®‰è£…ï¼š

```bash
# æ£€æŸ¥Javaç‰ˆæœ¬ï¼ˆéœ€è¦1.8æˆ–æ›´é«˜ï¼‰
java -version

# æ£€æŸ¥Mavenç‰ˆæœ¬ï¼ˆéœ€è¦3.6æˆ–æ›´é«˜ï¼‰
mvn -version

# æ£€æŸ¥MySQLç‰ˆæœ¬ï¼ˆéœ€è¦8.0æˆ–æ›´é«˜ï¼‰
mysql --version
```

å¦‚æœæœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…ï¼š
- **JDK**: ä¸‹è½½åœ°å€ https://www.oracle.com/java/technologies/downloads/
- **Maven**: ä¸‹è½½åœ°å€ https://maven.apache.org/download.cgi
- **MySQL**: ä¸‹è½½åœ°å€ https://dev.mysql.com/downloads/mysql/

## ğŸ”§ é…ç½®æ­¥éª¤

### æ­¥éª¤1ï¼šåˆ›å»ºæ•°æ®åº“

1. **å¯åŠ¨MySQLæœåŠ¡**

   Windows:
   ```bash
   # ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ
   net start MySQL80
   ```

   Linux/Mac:
   ```bash
   sudo systemctl start mysql
   # æˆ–
   sudo service mysql start
   ```

2. **ç™»å½•MySQL**

   ```bash
   mysql -u root -p
   ```
   è¾“å…¥MySQL rootå¯†ç 

3. **åˆ›å»ºæ•°æ®åº“**

   ```sql
   CREATE DATABASE health_management DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   ```

4. **æ‰§è¡ŒSQLè„šæœ¬**

   æ–¹å¼ä¸€ï¼šåœ¨MySQLå‘½ä»¤è¡Œä¸­æ‰§è¡Œ
   ```sql
   USE health_management;
   SOURCE e:/Code/HealthManagementDashboard/backend/src/main/resources/db/schema.sql;
   ```
   ï¼ˆæ³¨æ„ï¼šè·¯å¾„éœ€è¦æ ¹æ®ä½ çš„å®é™…è·¯å¾„ä¿®æ”¹ï¼ŒWindowsä½¿ç”¨æ­£æ–œæ æˆ–åŒåæ–œæ ï¼‰

   æ–¹å¼äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œæ‰§è¡Œ
   
   **Windows PowerShellï¼ˆæ¨èï¼‰ï¼š**
   ```powershell
   cd e:\Code\HealthManagementDashboard\backend
   Get-Content src\main\resources\db\schema.sql | mysql -u root -p health_management
   ```
   æˆ–è€…ä½¿ç”¨cmdæ–¹å¼ï¼š
   ```powershell
   cmd /c "mysql -u root -p health_management < src\main\resources\db\schema.sql"
   ```
   
   **Windows CMDï¼š**
   ```cmd
   cd e:\Code\HealthManagementDashboard\backend
   mysql -u root -p health_management < src\main\resources\db\schema.sql
   ```
   
   **Linux/Macï¼š**
   ```bash
   cd /path/to/backend
   mysql -u root -p health_management < src/main/resources/db/schema.sql
   ```

5. **éªŒè¯æ•°æ®åº“åˆ›å»ºæˆåŠŸ**

   ```sql
   USE health_management;
   SHOW TABLES;
   ```
   åº”è¯¥èƒ½çœ‹åˆ°13ä¸ªè¡¨ã€‚

### æ­¥éª¤2ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶

æ‰“å¼€æ–‡ä»¶ï¼š`backend/src/main/resources/application.yml`

æ‰¾åˆ°ä»¥ä¸‹é…ç½®å¹¶ä¿®æ”¹ï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/health_management?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: root        # âš ï¸ ä¿®æ”¹ä¸ºä½ çš„MySQLç”¨æˆ·å
    password: root        # âš ï¸ ä¿®æ”¹ä¸ºä½ çš„MySQLå¯†ç 
```

**é‡è¦é…ç½®è¯´æ˜ï¼š**
- `url`: æ•°æ®åº“è¿æ¥åœ°å€ï¼Œå¦‚æœMySQLä¸æ˜¯è¿è¡Œåœ¨localhost:3306ï¼Œéœ€è¦ä¿®æ”¹
- `username`: MySQLç”¨æˆ·åï¼ˆé»˜è®¤rootï¼‰
- `password`: MySQLå¯†ç ï¼ˆå¿…é¡»ä¿®æ”¹ï¼‰

### æ­¥éª¤3ï¼šåˆ›å»ºä¸Šä¼ ç›®å½•

åœ¨ `backend` ç›®å½•ä¸‹åˆ›å»º `upload` æ–‡ä»¶å¤¹ï¼š

**Windows PowerShell:**
```powershell
cd e:\Code\HealthManagementDashboard\backend
New-Item -ItemType Directory -Path "upload"
```

**Windows CMD:**
```cmd
cd e:\Code\HealthManagementDashboard\backend
mkdir upload
```

**Linux/Mac:**
```bash
cd /path/to/backend
mkdir -p upload
```

### æ­¥éª¤4ï¼šä¿®æ”¹æ–‡ä»¶ä¸Šä¼ è·¯å¾„ï¼ˆå¯é€‰ï¼‰

å¦‚æœå¸Œæœ›ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œå¯ä»¥ä¿®æ”¹ `application.yml`ï¼š

```yaml
file:
  upload:
    path: ./upload  # ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ˆæ¨èï¼‰
    # æˆ–
    path: e:/Code/HealthManagementDashboard/backend/upload  # ä½¿ç”¨ç»å¯¹è·¯å¾„
```

## ğŸš€ å¯åŠ¨é¡¹ç›®

### æ–¹å¼ä¸€ï¼šä½¿ç”¨Mavenç›´æ¥è¿è¡Œï¼ˆæ¨èå¼€å‘ç¯å¢ƒï¼‰

1. **æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¿›å…¥é¡¹ç›®ç›®å½•**

   ```bash
   cd e:\Code\HealthManagementDashboard\backend
   ```

2. **ç¼–è¯‘é¡¹ç›®**

   ```bash
   mvn clean compile
   ```

3. **è¿è¡Œé¡¹ç›®**

   ```bash
   mvn spring-boot:run
   ```

   çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š
   ```
   Started HealthManagementApplication in X.XXX seconds
   ```

### æ–¹å¼äºŒï¼šæ‰“åŒ…åè¿è¡Œï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

1. **æ‰“åŒ…é¡¹ç›®**

   ```bash
   mvn clean package
   ```

2. **è¿è¡ŒJARåŒ…**

   ```bash
   java -jar target/health-management-backend-1.0.0.jar
   ```

### æ–¹å¼ä¸‰ï¼šä½¿ç”¨IDEè¿è¡Œï¼ˆæ¨èå¼€å‘ï¼‰

#### IntelliJ IDEA

1. æ‰“å¼€IDEAï¼Œé€‰æ‹© `File` -> `Open`
2. é€‰æ‹© `backend` ç›®å½•
3. ç­‰å¾…Mavenä¾èµ–ä¸‹è½½å®Œæˆ
4. æ‰¾åˆ° `HealthManagementApplication.java` æ–‡ä»¶
5. å³é”® -> `Run 'HealthManagementApplication'`

#### Eclipse

1. æ‰“å¼€Eclipseï¼Œé€‰æ‹© `File` -> `Import`
2. é€‰æ‹© `Existing Maven Projects`
3. é€‰æ‹© `backend` ç›®å½•
4. ç­‰å¾…Mavenä¾èµ–ä¸‹è½½å®Œæˆ
5. æ‰¾åˆ° `HealthManagementApplication.java`
6. å³é”® -> `Run As` -> `Java Application`

#### VS Code

1. å®‰è£…Javaæ‰©å±•åŒ…ï¼ˆExtension Pack for Javaï¼‰
2. æ‰“å¼€ `backend` æ–‡ä»¶å¤¹
3. æŒ‰ `F5` æˆ–ç‚¹å‡»è¿è¡ŒæŒ‰é’®

## âœ… éªŒè¯å¯åŠ¨æˆåŠŸ

### 1. æ£€æŸ¥æ§åˆ¶å°è¾“å‡º

å¯åŠ¨æˆåŠŸåï¼Œæ§åˆ¶å°åº”è¯¥æ˜¾ç¤ºï¼š
```
2024-XX-XX XX:XX:XX [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http)
```

### 2. è®¿é—®APIæ–‡æ¡£

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š
- **Knife4jæ–‡æ¡£**: http://localhost:8080/doc.html
- **Swagger UI**: http://localhost:8080/swagger-ui/index.html

å¦‚æœèƒ½çœ‹åˆ°APIæ–‡æ¡£é¡µé¢ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸï¼

### 3. æµ‹è¯•ç™»å½•æ¥å£

ä½¿ç”¨Postmanã€Apifoxæˆ–curlæµ‹è¯•ç™»å½•ï¼š

**ä½¿ç”¨curl:**
```bash
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d "{\"username\":\"admin\",\"password\":\"123456\"}"
```

**ä½¿ç”¨Postman:**
1. æ–¹æ³•ï¼šPOST
2. URLï¼šhttp://localhost:8080/api/auth/login
3. Headersï¼šContent-Type: application/json
4. Bodyï¼ˆraw JSONï¼‰ï¼š
   ```json
   {
     "username": "admin",
     "password": "123456"
   }
   ```

**é¢„æœŸå“åº”:**
```json
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "eyJhbGciOiJIUzUxMiJ9...",
    "userId": "1",
    "username": "admin",
    "expiration": 86400000
  },
  "timestamp": 1234567890
}
```

## ğŸ” å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šç«¯å£8080è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Port 8080 is already in use
```

**è§£å†³æ–¹æ³•ï¼š**
1. ä¿®æ”¹ `application.yml` ä¸­çš„ç«¯å£ï¼š
   ```yaml
   server:
     port: 8081  # æ”¹ä¸ºå…¶ä»–ç«¯å£
   ```
2. æˆ–è€…å…³é—­å ç”¨8080ç«¯å£çš„ç¨‹åºï¼š
   ```bash
   # Windows
   netstat -ano | findstr :8080
   taskkill /PID <PID> /F
   
   # Linux/Mac
   lsof -i :8080
   kill -9 <PID>
   ```

### é—®é¢˜2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Communications link failure
Access denied for user 'root'@'localhost'
```

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
2. æ£€æŸ¥ `application.yml` ä¸­çš„ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥æ•°æ®åº“æ˜¯å¦å·²åˆ›å»º
4. æ£€æŸ¥MySQLæ˜¯å¦å…è®¸è¿œç¨‹è¿æ¥ï¼ˆå¦‚æœä½¿ç”¨è¿œç¨‹æ•°æ®åº“ï¼‰

**æµ‹è¯•æ•°æ®åº“è¿æ¥ï¼š**
```bash
mysql -u root -p -h localhost
```

### é—®é¢˜3ï¼šæ‰¾ä¸åˆ°ä¸»ç±»

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Error: Could not find or load main class HealthManagementApplication
```

**è§£å†³æ–¹æ³•ï¼š**
1. ç¡®ä¿å·²ç¼–è¯‘ï¼š`mvn clean compile`
2. æ£€æŸ¥ `pom.xml` ä¸­çš„ä¸»ç±»è·¯å¾„æ˜¯å¦æ­£ç¡®
3. ä½¿ç”¨IDEé‡æ–°å¯¼å…¥é¡¹ç›®

### é—®é¢˜4ï¼šMavenä¾èµ–ä¸‹è½½å¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Could not resolve dependencies
```

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. é…ç½®Mavené•œåƒï¼ˆå›½å†…æ¨èä½¿ç”¨é˜¿é‡Œäº‘é•œåƒï¼‰
   
   ç¼–è¾‘ `~/.m2/settings.xml`ï¼ˆå¦‚æœæ²¡æœ‰åˆ™åˆ›å»ºï¼‰ï¼š
   ```xml
   <mirrors>
     <mirror>
       <id>aliyun</id>
       <mirrorOf>central</mirrorOf>
       <url>https://maven.aliyun.com/repository/public</url>
     </mirror>
   </mirrors>
   ```
3. æ¸…ç†å¹¶é‡æ–°ä¸‹è½½ï¼š`mvn clean install -U`

### é—®é¢˜5ï¼šæ–‡ä»¶ä¸Šä¼ ç›®å½•æƒé™é”™è¯¯

**é”™è¯¯ä¿¡æ¯ï¼š**
```
java.io.IOException: Permission denied
```

**è§£å†³æ–¹æ³•ï¼š**
1. ç¡®ä¿ `upload` ç›®å½•å·²åˆ›å»º
2. æ£€æŸ¥ç›®å½•å†™å…¥æƒé™
3. ä½¿ç”¨ç»å¯¹è·¯å¾„é…ç½® `file.upload.path`

## ğŸ“ å¯åŠ¨æ£€æŸ¥æ¸…å•

å¯åŠ¨å‰è¯·ç¡®è®¤ï¼š

- [ ] JDK 1.8+ å·²å®‰è£…
- [ ] Maven 3.6+ å·²å®‰è£…
- [ ] MySQL 8.0+ å·²å®‰è£…å¹¶å¯åŠ¨
- [ ] æ•°æ®åº“ `health_management` å·²åˆ›å»º
- [ ] SQLè„šæœ¬å·²æ‰§è¡Œï¼ˆ13ä¸ªè¡¨å·²åˆ›å»ºï¼‰
- [ ] `application.yml` ä¸­çš„æ•°æ®åº“ç”¨æˆ·åå¯†ç å·²ä¿®æ”¹
- [ ] `upload` ç›®å½•å·²åˆ›å»º
- [ ] ç«¯å£8080æœªè¢«å ç”¨ï¼ˆæˆ–å·²ä¿®æ”¹ç«¯å£ï¼‰

## ğŸ¯ ä¸‹ä¸€æ­¥

å¯åŠ¨æˆåŠŸåï¼š

1. **æŸ¥çœ‹APIæ–‡æ¡£**: http://localhost:8080/doc.html
2. **æµ‹è¯•æ¥å£**: ä½¿ç”¨Postmanæˆ–Apifoxæµ‹è¯•å„ä¸ªæ¥å£
3. **æŸ¥çœ‹æ—¥å¿—**: æ—¥å¿—æ–‡ä»¶åœ¨ `logs/health-management.log`
4. **é›†æˆå‰ç«¯**: é…ç½®å‰ç«¯Reactåº”ç”¨è¿æ¥åç«¯API

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼š`logs/health-management.log`
2. æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
3. å‚è€ƒ [QUICK_START.md](./QUICK_START.md)
4. å‚è€ƒ [README.md](./README.md)
